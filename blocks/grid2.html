<!-- blocks/grid2.html -->

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
  /* Escopo apenas dentro de grid2-section */
  #grid2-section,
  #grid2-section * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
  }
  /* Link que envolve todo o componente */
  #grid2-section .icone-link {
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: inherit;
    width: 100%;
    height: 100%;
  }
  /* Container do ícone Cardápio responsivo */
  #grid2-section .icone-cardapio {
    width: clamp(85px, 40vw, 120px);
    height: clamp(85px, 40vw, 120px);
    background-color: #2D81B2; /* será substituído via script */
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
  }
  /* SVG ocupa 50% do container */
  #grid2-section .icone-cardapio svg {
    width: 50%;
    height: auto;
  }
  /* Texto abaixo do SVG */
  #grid2-section .nome-cardapio {
    margin-top: 6px;
    font-size: clamp(13px, 2vw, 13px);
    font-weight: 700;
    color: #FFFFFF; /* será substituído via script */
    text-align: center;
  }
  /* Animação para segunda-feira */
  @keyframes blink {
    0%,100% { box-shadow: inset 0 0 0 3px rgba(255,180,0,1); }
    50%    { box-shadow: inset 0 0 0 3px rgba(255,180,0,0); }
  }
  #grid2-section .segunda-blink {
    animation: blink 3s infinite ease-in-out;
  }
</style>

<div id="grid2-section">
  <a class="icone-link" href="https://sites.google.com/view/portalpsr/in%C3%ADcio/card%C3%A1pio" target="_blank" aria-label="Cardápio">
    <div class="icone-cardapio">
      <svg viewBox="0 0 513.029 513.029" xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF">
        <path d="m148.684 65.029h220.331v-45.014c0-11.404-9.338-20.015-19.969-20.015-2.07 0-4.187.326-6.296 1.022z"/>
        <path d="m409.015 95.029h-305c-11.046 0-20 8.954-20 20v265.329 112.671c0 11.046 8.954 20 20 20h305c11.046 0 20-8.954 20-20v-378c0-11.045-8.955-20-20-20zm-252.5 180.324h4.345c6.466-41.398 39.257-74.189 80.655-80.655v-7.516c0-8.284 6.716-15 15-15s15 6.716 15 15v-7.516c41.398 6.466 74.189 39.257 80.655 80.655h4.345c8.284 0 15 6.716 15 15s-6.716 15-15 15h-200c-8.284 0-15-6.716-15-15s6.715-15 15-15zm92.817 85.524c0 8.284-6.716 15-15 15h-72c-8.284 0-15-6.716-15-15s6.716-15 15-15h72c8.284 0 15 6.716 15 15zm103.433 75h-192.5c-8.284 0-15-6.716-15-15s6.716-15 15-15h192.5c8.284 0 15 6.716 15 15s-6.716 15-15 15z"/>
        <path d="m321.636 275.353c-6.827-29.645-33.434-51.818-65.121-51.818s-58.294 22.174-65.121 51.818z"/>
      </svg>
      <div class="nome-cardapio">Cardápio</div>
    </div>
  </a>
</div>

<script>
(function(){
  const coresPorMes = {
    0:{fundo:"#cfd0d5", texto:"#000"},
    1:{fundo:"#ff7709", texto:"#fff"},
    2:{fundo:"#fec9d9", texto:"#b6063b"},
    3:{fundo:"#abc8e7", texto:"#20466f"},
    4:{fundo:"#ff7bac", texto:"#89103d"},
    5:{fundo:"#588644", texto:"#154003"},
    6:{fundo:"linear-gradient(to right, #01a75b, #fecd2a)", texto:"#574a20"},
    7:{fundo:"#886aaa", texto:"#513176"},
    8:{fundo:"#ffce59", texto:"#594d31"},
    9:{fundo:"#f6c0d8", texto:"#9a335d"},
    10:{fundo:"#d4eff1", texto:"#034d72"},
    11:{fundo:"#b42619", texto:"#7b0d0d"}
  };
  const m = new Date().getMonth();
  const cfg = coresPorMes[m];
  const box  = document.querySelector('#grid2-section .icone-cardapio');
  const txt  = document.querySelector('#grid2-section .nome-cardapio');
  const svg  = document.querySelector('#grid2-section svg');

  if(box) {
    if(m===6) box.style.background = cfg.fundo;
    else      box.style.backgroundColor = cfg.fundo;
  }
  if(txt) txt.style.color = cfg.texto;
  if(svg) svg.setAttribute('fill', cfg.texto);

  // Pisca contorno se for segunda-feira
  if(new Date().getDay()===1 && box) {
    box.classList.add('segunda-blink');
  }
})();
</script>

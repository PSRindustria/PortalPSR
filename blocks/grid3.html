<!-- blocks/grid3.html -->

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
  /* Escopo apenas dentro de grid3-section */
  #grid3-section,
  #grid3-section * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
  }

  /* Link que envolve o componente inteiro */
  #grid3-section .icone-link {
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: inherit;
    width: 100%;
    height: 100%;
  }

  /* Container do ícone Aniversário responsivo */
  #grid3-section .icone-aniversario {
    width: clamp(85px, 40vw, 120px);
    height: clamp(85px, 40vw, 120px);
    background-color: #2D81B2; /* será substituído via script */
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* SVG ocupa 50% do container para manter proporção */
  #grid3-section .icone-aniversario svg {
    width: 50%;
    height: auto;
  }

  /* Texto abaixo do SVG */
  #grid3-section .nome-aniversario {
    margin-top: 6px;
    font-size: clamp(13px, 2vw, 13px);
    font-weight: 700;
    text-align: center;
    color: #FFFFFF; /* será substituído via script */
  }
</style>

<div id="grid3-section">
  <a class="icone-link" href="https://sites.google.com/view/portalpsr/in%C3%ADcio/aniversariante" target="_blank" aria-label="Aniversário">
    <div class="icone-aniversario">
      <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF">
        <!-- paths omitidos para brevidade -->
        <path d="M26.788,265.219l42.414,17.674..."/>
        <!-- demais paths -->
      </svg>
      <div class="nome-aniversario">Aniversário</div>
    </div>
  </a>
</div>

<script>
(function(){
  const coresPorMes = {
    0:{fundo:"#cfd0d5", texto:"#000000"},
    1:{fundo:"#ff7709", texto:"#FFFFFF"},
    2:{fundo:"#fec9d9", texto:"#b6063b"},
    3:{fundo:"#abc8e7", texto:"#20466f"},
    4:{fundo:"#ff7bac", texto:"#89103d"},
    5:{fundo:"#588644", texto:"#154003"},
    6:{fundo:"linear-gradient(to right, #01a75b, #fecd2a)", texto:"#574a20"},
    7:{fundo:"#886aaa", texto:"#513176"},
    8:{fundo:"#ffce59", texto:"#594d31"},
    9:{fundo:"#f6c0d8", texto:"#9a335d"},
    10:{fundo:"#d4eff1", texto:"#034d72"},
    11:{fundo:"#b42619", texto:"#7b0d0d"}
  };
  const mes = new Date().getMonth();
  const cfg = coresPorMes[mes];
  const box = document.querySelector('#grid3-section .icone-aniversario');
  const txt = document.querySelector('#grid3-section .nome-aniversario');
  const svg = document.querySelector('#grid3-section svg');

  if(box) {
    if(mes===6) box.style.background = cfg.fundo;
    else        box.style.backgroundColor = cfg.fundo;
  }
  if(txt) txt.style.color = cfg.texto;
  if(svg) svg.setAttribute('fill', cfg.texto);
})();
</script>

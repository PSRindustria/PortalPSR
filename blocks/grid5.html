<!-- blocks/grid5.html -->

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
  /* Escopo apenas dentro de grid5-section */
  #grid5-section,
  #grid5-section * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
  }

  /* Link que envolve todo o componente */
  #grid5-section .icone-link {
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: inherit;
    width: 100%; height: 100%;
  }

  /* Container do ícone Cipa responsivo */
  #grid5-section .icone-cipa {
    width: clamp(85px, 40vw, 120px);
    height: clamp(85px, 40vw, 120px);
    background-color: #2D81B2; /* será substituído via script */
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* SVG ocupa 50% do container */
  #grid5-section .icone-cipa svg {
    width: 50%; height: auto;
  }

  /* Texto abaixo do SVG */
  #grid5-section .nome-cipa {
    margin-top: 6px;
    font-size: clamp(13px, 2vw, 13px);
    font-weight: 700;
    text-transform: capitalize;
    text-align: center;
    color: #FFFFFF; /* será substituído via script */
  }
</style>

<div id="grid5-section">
  <a class="icone-link" href="https://sites.google.com/view/portalpsr/in%C3%ADcio/cipa" target="_blank" aria-label="Cipa">
    <div class="icone-cipa">
      <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="#FFFFFF">
        <path d="m503 305.427v9.59c0 14.772-12.086 26.859-26.859 26.859h-90.99v-63.308h90.99c14.773 0 26.859 12.086 26.859 26.859zm-494 0v9.59c0 14.772 12.086 26.859 26.859 26.859h90.989v-63.308h-90.989c-14.773 0-26.859 12.086-26.859 26.859zm369.176-225.171-9.627 144.188c-.293 4.401-4.099 7.731-8.5 7.438s-7.73-4.099-7.438-8.5l10.184-152.533c-16.072-8.963-33.361-15.976-51.544-20.714v178.158c20.71 6.714 42.38 17.089 66.064 31.14l5.284 3.135 94.007.006c-.383-75.783-39.485-142.846-98.43-182.318zm-82.925 143.533v-191.144c0-12.693-10.386-23.08-23.08-23.08h-32.342c-12.694 0-23.081 10.386-23.081 23.08v191.144c26.561-6.292 51.943-6.292 78.503 0zm-116.247 147.065v-76.577c28.895-15.327 53.059-22.991 76.996-23.007 23.899-.016 48.066 7.659 76.996 23.007v76.577c0 21.261-8.472 37.842-25.742 50.255l-51.254 36.838-51.256-36.839c-17.271-12.412-25.74-28.995-25.74-50.254zm20.739-14.813 26.729 33.637c4.572 6.548 13.983 7.443 19.679 1.747l62.014-62.014c5.029-5.03 5.029-13.185 0-18.215-5.03-5.03-13.186-5.03-18.215 0l-51.822 51.822-18.258-22.978c-4.418-5.558-12.506-6.481-18.064-2.063s-6.481 12.506-2.063 18.064zm169.408-82.848v97.66c0 32.86-14.126 60.408-40.809 79.586l-72.342 51.997-72.345-51.996c-26.682-19.177-40.807-46.727-40.807-79.586v-97.661c85.65-50.816 140.653-50.815 226.303 0zm-113.151-17.892c-27.927-.016-55.605 9.067-88.809 27.232-2.653 1.445-4.157 4.178-4.16 7l-.028 81.321c0 26.311 11.067 47.84 32.427 63.191l55.913 40.186c2.905 2.091 6.741 1.945 9.455-.103l55.768-40.082c21.36-15.352 32.43-36.88 32.43-63.192v-81.32c0-3.281-1.976-6.101-4.802-7.335-32.893-17.92-60.401-26.882-88.194-26.898zm-55.251-205.167c-18.183 4.738-35.473 11.751-51.544 20.714l10.184 152.534c.293 4.401-3.037 8.207-7.438 8.5s-8.207-3.037-8.5-7.438l-9.626-144.188c-58.944 39.473-98.047 106.533-98.43 182.318l94.006-.006 5.284-3.135c23.684-14.052 45.354-24.428 66.064-31.141l15.416-8.708 6.056 16.638C517.036 194.302 515.081 149.499 496.456 109.559z"/>
      </svg>
      <div class="nome-cipa">Cipa</div>
    </div>
  </a>
</div>

<script>
(function(){
  const coresPorMes = {
    0:{fundo:"#cfd0d5",texto:"#000000"},
    1:{fundo:"#ff7709",texto:"#FFFFFF"},
    2:{fundo:"#fec9d9",texto:"#b6063b"},
    3:{fundo:"#abc8e7",texto:"#20466f"},
    4:{fundo:"#ff7bac",texto:"#89103d"},
    5:{fundo:"#588644",texto:"#154003"},
    6:{fundo:"linear-gradient(to right, #01a75b, #fecd2a)",texto:"#574a20"},
    7:{fundo:"#886aaa",texto:"#513176"},
    8:{fundo:"#ffce59",texto:"#594d31"},
    9:{fundo:"#f6c0d8",texto:"#9a335d"},
    10:{fundo:"#d4eff1",texto:"#034d72"},
    11:{fundo:"#b42619",texto:"#7b0d0d"}
  };
  const m = new Date().getMonth();
  const cfg = coresPorMes[m];
  const box = document.querySelector('#grid5-section .icone-cipa');
  const txt = document.querySelector('#grid5-section .nome-cipa');
  const svg = document.querySelector('#grid5-section svg');
  if(box){ m===6 ? box.style.background = cfg.fundo : box.style.backgroundColor = cfg.fundo; }
  if(txt) txt.style.color = cfg.texto;
  if(svg) svg.setAttribute('fill', cfg.texto);
})();
</script>

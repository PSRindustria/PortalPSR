<!-- blocks/section2.html -->

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  /* Reset e fonte apenas dentro do calend√°rio */
  #calendar-section,
  #calendar-section * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  #calendar-section {
    font-family: 'Poppins', sans-serif;
  }
  /* Wrapper e layout */
  #calendar-section .outer-wrapper {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #f9f9f9;
    padding: 10px;
  }
  #calendar-section .calendar-container {
    display: flex;
    gap: 0.5rem;
    width: 100%;
    max-width: 600px;
  }
  /* Caixa de cada dia */
  #calendar-section .day-box {
    flex: 1 1 0;
    height: 75px;
    background-color: #003366;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 15px;
    font-weight: 600;
    text-align: center;
    font-size: clamp(1rem, 1.5vw, 1.5rem);
    padding: 3px;
    transition: border 0.2s;
  }
  /* Estados especiais */
  #calendar-section .day-box.highlight { background-color: #ffb600; color: #444; }
  #calendar-section .day-box.holiday  { background-color: #a3d5a2 !important; color: #333 !important; }
  #calendar-section .day-box.holiday-today {
    background-color: #a3d5a2 !important;
    color: #333 !important;
    border: 3px solid #ffb600;
  }
  #calendar-section .day-box.past    { background-color: #cecece !important; color: #777 !important; }
  #calendar-section .day-box.weekend { background-color: #cecece !important; color: #777 !important; }
  #calendar-section .day-name { margin-bottom: 2px; }
  #calendar-section .month-year {
    margin-top: 1rem;
    font-size: 0.9rem;
    font-weight: 400;
    text-align: center;
  }
</style>

<div id="calendar-section">
  <div class="outer-wrapper">
    <div class="calendar-container">
      <div class="day-box" data-day="0"><div class="day-name">Dom</div><div class="day-number"></div></div>
      <div class="day-box" data-day="1"><div class="day-name">Seg</div><div class="day-number"></div></div>
      <div class="day-box" data-day="2"><div class="day-name">Ter</div><div class="day-number"></div></div>
      <div class="day-box" data-day="3"><div class="day-name">Qua</div><div class="day-number"></div></div>
      <div class="day-box" data-day="4"><div class="day-name">Qui</div><div class="day-number"></div></div>
      <div class="day-box" data-day="5"><div class="day-name">Sex</div><div class="day-number"></div></div>
      <div class="day-box" data-day="6"><div class="day-name">S√°b</div><div class="day-number"></div></div>
    </div>
    <div class="month-year"></div>
  </div>
</div>

<script>
(function(){
  const section       = document.getElementById('calendar-section');
  const brasiliaTime  = new Date(new Date().toLocaleString("en-US", { timeZone: "America/Sao_Paulo" }));
  const dayOfWeek     = brasiliaTime.getDay();
  const dayOfMonth    = brasiliaTime.getDate();
  const month         = brasiliaTime.getMonth();
  const year          = brasiliaTime.getFullYear();
  const meses         = ["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho",
                         "Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];
  const dayBoxes      = section.querySelectorAll('.day-box');
  const monthYearEl   = section.querySelector('.month-year');

  // Exibe m√™s e ano iniciais
  monthYearEl.textContent = `${meses[month]} de ${year}`;

  // Mapa de feriados (m√™s-dia)
  const holidays = {
    "1-1":  "Feliz Ano Novo!",
    "3-15": "Feliz Dia do Consumidor!",
    "4-18": "Feliz Sexta-feira Santa √† todos!",
    "4-20": "Feliz P√°scoa √† todos!",
    "4-21": "Dia de Tiradentes",
    "4-23": "Feliz dia de S√£o Jorge",
    "5-1":  "Feliz dia do Trabalhador",
    "5-11": "Feliz dia das M√£es!",
    "6-12": "Dia dos Namorados!",
    "6-19": "Dia de Corpus Christi",
    "8-10": "Feliz dia dos Pais!",
    "9-7":  "Dia da Independ√™ncia do Brasil",
    "9-15": "Feliz dia do Cliente!",
    "10-12":"Feliz dia das Crian√ßas!",
    "11-2": "Dia de Finados",
    "11-15":"Proclama√ß√£o da Rep√∫blica",
    "11-20":"Dia de Zumbi e da Consci√™ncia Negra",
    "12-25":"Feliz Natal √† todos!",
    "12-31":"Feliz Ano Novo!"
  };

  dayBoxes.forEach(box => {
    const boxDay    = parseInt(box.dataset.day, 10);
    const offset    = boxDay - dayOfWeek;
    const dateBlock = new Date(year, month, dayOfMonth + offset);
    const key       = `${dateBlock.getMonth()+1}-${dateBlock.getDate()}`;

    // N√∫mero do dia
    box.querySelector('.day-number').textContent = dateBlock.getDate();

    // 1) Feriados (n√£o hoje)
    if (holidays[key] && offset !== 0) {
      box.classList.add('holiday');
      return;
    }
    // 2) Hoje
    if (offset === 0) {
      if (holidays[key]) {
        monthYearEl.textContent = holidays[key];
        box.classList.add('holiday-today');
      } else {
        box.classList.add('highlight');
      }
      return;
    }
    // 3) Dias passados
    if (offset < 0) {
      box.classList.add('past');
      return;
    }
    // 4) Finais de semana futuros
    if (boxDay === 0 || boxDay === 6) {
      box.classList.add('weekend');
    }
  });

  // Mensagens extras
  if (dayOfWeek === 5) monthYearEl.textContent = "#Sextooooou ü•≥";
  if (dayOfWeek === 1) monthYearEl.textContent = "Uma √≥tima segunda √† todos! üôè";
})();
</script>

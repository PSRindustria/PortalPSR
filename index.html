<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSR Indústria</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --azul-marinho: #003366;
            --azul-aco: #4682B4;
            --cinza-escuro: #4B4B4B;
            --branco: #FFFFFF;
            --dourado: #DAA520;
            --verde: #006400;
            --rosa-claro-aniversario: #fde3e9; 
            --borda-aniversario: #f08080; 
        }
        
        footer {
            background-color: var(--azul-marinho);
            color: var(--branco);
            padding: 40px 20px;
            text-align: center;
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .footer-content h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            position: relative;
        }
        
        .footer-content h3::after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background: var(--dourado);
            margin: 10px auto;
        }
        
        .footer-content p {
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .destaque {
            font-size: 1.2rem;
            color: var(--dourado);
            margin: 25px 0;
            font-weight: 500;
        }
        
        .copyright {
            padding-top: 20px;
            margin-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #ccc;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--branco);
            color: var(--cinza-escuro);
            overflow-x: hidden;
        }
        
        header {
            background-color: var(--azul-marinho);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
        }
        
        .logo {
            color: var(--branco);
            font-size: 1.5rem;
            font-weight: bold;
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .logo img {
            height: 40px;
            margin-right: 10px;
        }
        
        .logo span {
            color: var(--dourado);
            margin-left: 5px;
        }
        
        .menu {
            display: flex;
            list-style: none;
        }
        
        .menu li {
            margin-left: 15px;
        }
        
        .menu a {
            color: var(--branco);
            text-decoration: none;
            font-weight: 500;
            padding: 8px 12px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .menu a:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--dourado);
        }
        
        .menu-toggle {
            display: none;
            color: var(--branco);
            font-size: 24px;
            cursor: pointer;
        }
        
        .whatsapp-contact {
            color: var(--branco);
            background-color: var(--verde);
            padding: 8px 15px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .whatsapp-contact i {
            margin-right: 8px;
        }
        
        .whatsapp-contact:hover {
            background-color: #008000;
            transform: translateY(-2px);
        }
        
        .banner {
            height: 400px;
            background: linear-gradient(rgba(0, 51, 102, 0.7), rgba(0, 51, 102, 0.9)), url('/api/placeholder/1200/400') center/cover no-repeat;
            margin-top: 70px; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: var(--branco);
            padding: 0 20px;
        }
        
        .banner h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 700;
        }
        
        .banner p {
            font-size: 1.2rem;
            max-width: 700px;
            margin-bottom: 30px;
        }
        
        .banner-btn {
            background-color: var(--dourado);
            color: var(--azul-marinho);
            padding: 12px 24px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .banner-btn:hover {
            background-color: #c69500;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .section {
            padding: 60px 20px;
        }
        
        .section-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
            color: var(--azul-marinho);
            position: relative;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 100px;
            height: 3px;
            background: var(--dourado);
            margin: 15px auto 0;
        }

        #novidades {
            background-color: var(--branco);
        }
        .novidades-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        .novidade-card {
            background-color: #f7f9fc;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }
        .novidade-img {
            background-color: var(--azul-marinho);
            color: var(--branco);
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .novidade-img i {
            font-size: 40px;
        }
        .novidade-content {
            padding: 25px;
            text-align: center;
        }
        .novidade-content h3 {
            color: var(--azul-marinho);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        .novidade-date {
            color: var(--cinza-escuro);
            font-size: 0.9rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .novidade-content p {
            margin-bottom: 15px;
            line-height: 1.6;
        }
        .novidade-link {
            color: var(--azul-aco);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            transition: color 0.3s ease;
        }
        .novidade-link i {
            margin-left: 8px;
            transition: transform 0.3s ease;
        }
        .novidade-link:hover {
            color: var(--azul-marinho);
        }
        .novidade-link:hover i {
            transform: translateX(5px);
        }

        #reflexao-do-dia {
            background-color: #e9ecef; 
        }
        .reflexao-container {
            max-width: 800px; 
            margin: 0 auto;
            background-color: var(--branco);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            text-align: center;
        }
        .reflexao-frase {
            font-size: 1.5rem; 
            font-style: italic;
            color: var(--azul-marinho);
            margin-bottom: 10px;
            line-height: 1.4;
        }
        .reflexao-autor {
            font-size: 1rem;
            color: var(--dourado); 
            margin-bottom: 20px;
            font-weight: bold;
        }
        .reflexao-texto {
            font-size: 1.1rem;
            line-height: 1.7;
            color: var(--cinza-escuro);
            text-align: justify;
        }
        .reflexao-data {
            font-size: 0.9rem;
            color: var(--cinza-escuro);
            margin-top: 20px;
        }

        .aniversariantes-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .aniversariante-card {
            background-color: var(--branco);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .aniversariante-card:hover {
            transform: translateY(-5px);
        }
        .aniversariante-img {
            height: 200px;
            background-color: var(--azul-aco);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        .aniversariante-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .aniversariante-img i {
            font-size: 80px;
            color: var(--branco);
        }
        .aniversariante-info {
            padding: 20px;
            text-align: center;
        }
        .aniversariante-info h3 {
            margin-bottom: 8px;
            color: var(--azul-marinho);
        }
        .aniversariante-info p {
            color: var(--cinza-escuro);
            margin-bottom: 5px;
        }
        .aniversariante-data {
            font-weight: bold;
            color: var(--dourado);
        }

        #ferias {
            background-color: var(--branco);
        }
        .ferias-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .ferias-table {
            width: 100%;
            border-collapse: collapse;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        .ferias-table th,
        .ferias-table td {
            padding: 15px;
            text-align: left;
        }
        .ferias-table thead {
            background-color: var(--azul-marinho);
            color: var(--branco);
        }
        .ferias-table tbody tr:nth-child(even) {
            background-color: #f7f9fc;
        }
        .ferias-table tbody tr:hover {
            background-color: rgba(70,130,180,0.1);
        }

        #cipa {
            background-color: #f7f9fc;
        }
        .cipa-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        .cipa-card {
            background-color: var(--branco);
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }
        .cipa-card:hover {
            transform: translateY(-5px);
        }
        .cipa-icon {
            width: 80px;
            height: 80px;
            background-color: var(--azul-marinho);
            color: var(--branco);
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            margin: 0 auto 20px;
            font-size: 32px;
        }
        .cipa-card h3 {
            color: var(--azul-marinho);
            margin-bottom: 15px;
        }
        .cipa-card p {
            color: var(--cinza-escuro);
            line-height: 1.6;
        }

        .social-links {
            display: flex;
            justify-content: center; 
            margin-top: 20px;
        }
        .social-links a {
            width: 48px; 
            height: 48px; 
            background-color: rgba(255, 255, 255, 0.15); 
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 10px; 
            color: var(--branco);
            font-size: 1.5rem; 
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            box-shadow: 0 2px 5px rgba(0,0,0,0.2); 
        }
        .social-links a:hover {
            background-color: var(--dourado);
            color: var(--azul-marinho); 
            transform: translateY(-5px) scale(1.1); 
            box-shadow: 0 8px 15px rgba(218, 165, 32, 0.4); 
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 30px;
        }
        .loading-spinner {
            border: 5px solid rgba(0,51,102,0.1);
            border-top: 5px solid var(--dourado);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media screen and (max-width: 768px) {
            .logo img {
                height: 30px;
            }
            .logo {
                font-size: 1.3rem;
            }
            .menu {
                display: none;
                position: absolute;
                top: 60px; 
                left: 0;
                width: 100%;
                background-color: var(--azul-marinho);
                flex-direction: column;
                align-items: center;
                padding: 20px 0;
                box-shadow: 0 5px 10px rgba(0,0,0,0.2);
            }
            .menu.active {
                display: flex;
            }
            .menu li {
                margin: 10px 0;
            }
            .menu-toggle {
                display: block;
            }
            .header-container {
                padding: 10px 20px; 
            }
            .whatsapp-contact {
                display: none; 
            }
            .banner {
                height: 300px;
                margin-top: 60px; 
            }
            .banner h1 {
                font-size: 1.8rem;
            }
            .banner p {
                font-size: 1rem;
            }
            .section {
                padding: 40px 20px;
            }
            .section-title {
                font-size: 1.5rem;
            }

            .aniversariantes-container {
                grid-template-columns: 1fr; 
                gap: 15px; 
            }
            .aniversariante-card {
                display: flex; 
                flex-direction: column; 
                align-items: center; 
                padding: 20px; 
                text-align: center; 
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            }
            .aniversariante-img {
                display: none; 
            }
            .aniversariante-info {
                padding: 0; 
            }
            .aniversariante-info h3 {
                font-size: 1.2rem; 
                color: var(--azul-marinho);
                margin-bottom: 8px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .aniversariante-info h3 .aniversario-icone {
                margin-right: 8px; 
                color: var(--dourado); 
                font-size: 1.1rem;
            }
            .aniversariante-data {
                font-size: 1rem; 
                color: var(--cinza-escuro);
                background-color: var(--rosa-claro-aniversario); 
                padding: 5px 10px;
                border-radius: 15px; 
                border: 1px solid var(--borda-aniversario); 
                display: inline-block; 
                margin-top: 5px;
                font-weight: 500;
            }
            .aniversariante-card.expanded,
            .aniversariante-card::after {
                display: none; 
            }
             .aniversariante-info p:not(.aniversariante-data) { 
                display: block;
                font-size: 0.9rem;
                color: var(--cinza-escuro);
                margin-top: 5px;
            }

            /* Férias Mobile - Ajuste para mostrar datas no lugar do cargo */
            .ferias-table thead {
                display: none;
            }
            .ferias-table tbody tr {
                display: flex; /* Alterado para flex para melhor controle */
                flex-direction: column; /* Empilhar itens verticalmente */
                margin-bottom: 15px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                border-radius: 8px; /* Bordas mais suaves */
                overflow: hidden;
                background-color: var(--branco);
                padding: 15px;
            }
            .ferias-table tbody td {
                display: block;
                text-align: left; /* Alinhar texto à esquerda para melhor leitura */
                padding: 8px 0; /* Ajuste no padding */
                border-bottom: 1px solid #eee; /* Linha separadora sutil */
            }
            .ferias-table tbody tr td:last-child {
                border-bottom: none; /* Remove a última borda */
            }

            .ferias-table tbody td.ferias-colaborador {
                font-weight: bold;
                color: var(--azul-marinho);
                font-size: 1.1rem;
            }
            .ferias-table tbody td.ferias-periodo {
                font-size: 0.95rem;
                color: var(--cinza-escuro);
            }
            .ferias-table tbody td.ferias-periodo .label {
                font-weight: 600;
                color: var(--azul-aco);
            }
            /* Oculta as colunas de departamento, início e retorno originais no mobile */
            .ferias-table tbody td:nth-child(2),
            .ferias-table tbody td:nth-child(3),
            .ferias-table tbody td:nth-child(4) {
                display: none; 
            }
            /* Adiciona a nova célula para o período de férias */
            .ferias-table tbody tr td.ferias-periodo-mobile {
                display: block !important; /* Garante que seja exibido */
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <a href="#" class="logo">
                <img src="/api/placeholder/40/40" alt="PSR Logo">
                PSR <span>Indústria</span>
            </a>
            <nav>
                <ul class="menu" id="menu">
                    <li><a href="#inicio">Início</a></li>
                    <li><a href="cardapio.html">Cardápio</a></li>
                    <li><a href="#novidades">Novidades</a></li>
                    <li><a href="#reflexao-do-dia">Reflexão do Dia</a></li>
                    <li><a href="#aniversariantes">Aniversariantes</a></li>
                    <li><a href="#ferias">Férias</a></li>
                    <li><a href="jornal.html">Jornal</a></li>
                    <li><a href="#cipa">CIPA</a></li>
                </ul>
                <div class="menu-toggle" id="menu-toggle">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
            <a href="https://wa.me/5500000000000" class="whatsapp-contact">
                <i class="fab fa-whatsapp"></i> Contato
            </a>
        </div>
    </header>

    <section class="banner" id="inicio">
        <h1>Bem-vindo à Intranet da PSR Indústria</h1>
        <p>Seu portal para informações internas, notícias e recursos para colaboradores</p>
        <a href="#novidades" class="banner-btn">Novidades</a>
    </section>

    <section id="novidades" class="section">
        <h2 class="section-title">Últimas Novidades</h2>
        <div class="novidades-container" id="novidades-container">
            <div class="loading"><div class="loading-spinner"></div></div>
        </div>
    </section>

    <section id="reflexao-do-dia" class="section">
        <h2 class="section-title">Reflexão do Dia</h2>
        <div class="reflexao-container" id="reflexao-container">
            <div class="loading"><div class="loading-spinner"></div></div>
        </div>
    </section>

    <section id="aniversariantes" class="section">
        <h2 class="section-title">Aniversariantes do Mês</h2>
        <div class="aniversariantes-container" id="aniversariantes-container">
            <div class="loading"><div class="loading-spinner"></div></div>
        </div>
    </section>

    <section id="ferias" class="section">
        <h2 class="section-title">Programação de Férias</h2>
        <div class="ferias-container">
            <table class="ferias-table" id="ferias-table">
                <thead>
                    <tr>
                        <th>Colaborador</th>
                        <th>Departamento</th>
                        <th>Início</th>
                        <th>Retorno</th>
                    </tr>
                </thead>
                <tbody id="ferias-tbody">
                    <tr><td colspan="4"><div class="loading"><div class="loading-spinner"></div></div></td></tr>
                </tbody>
            </table>
        </div>
    </section>

    <section id="cipa" class="section">
        <h2 class="section-title">CIPA</h2>
        <div class="cipa-container" id="cipa-container">
            <div class="loading"><div class="loading-spinner"></div></div>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <h3>PSR Indústria</h3>
            <p>Trabalhando juntos por um futuro melhor e mais seguro.</p>
            <p class="destaque">Segurança em primeiro lugar, qualidade sempre!</p>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
            <div class="copyright">
                &copy; 2025 PSR Indústria. Todos os direitos reservados.
            </div>
        </div>
    </footer>

    <script>
        document.getElementById('menu-toggle').addEventListener('click', function() {
            document.getElementById('menu').classList.toggle('active');
        });

        async function carregarDados(arquivo) {
            try {
                // Garante que o caminho para os arquivos JSON seja relativo à raiz do site.
                // Se o index.html e os JSONs estão no mesmo nível, 'arquivo' (ex: 'novidades.json') já é o caminho correto.
                // Se estiverem em subpastas, o caminho precisaria ser ajustado aqui ou na chamada da função.
                // Para este projeto, assumindo que estão na raiz, o nome do arquivo é suficiente.
                const resposta = await fetch(arquivo); 
                if (!resposta.ok) {
                    console.error(`Erro ao carregar ${arquivo}: ${resposta.status} ${resposta.statusText}`);
                    const containerId = arquivo.split('.')[0] + '-container'; 
                    const container = document.getElementById(containerId);
                    if (container) {
                        container.innerHTML = `<p>Erro ao carregar dados de ${arquivo}. Verifique o console para mais detalhes.</p>`;
                    }
                    return null; 
                }
                return await resposta.json();
            } catch (erro) {
                console.error(`Falha ao carregar ${arquivo}:`, erro);
                const containerId = arquivo.split('.')[0] + '-container';
                const container = document.getElementById(containerId);
                if (container) {
                    container.innerHTML = `<p>Falha ao carregar dados de ${arquivo}. Verifique sua conexão ou contate o suporte.</p>`;
                }
                return null;
            }
        }

        async function carregarNovidades() {
            const container = document.getElementById('novidades-container');
            const novidades = await carregarDados('novidades.json');
            if (novidades && novidades.length > 0) {
                container.innerHTML = '';
                novidades.forEach(novidade => {
                    const novidadeHTML = `
                        <div class="novidade-card">
                            <div class="novidade-img"><i class="${novidade.icone}"></i></div>
                            <div class="novidade-content">
                                <h3>${novidade.titulo}</h3>
                                <div class="novidade-date"><i class="far fa-calendar-alt"></i> ${novidade.data}</div>
                                <p>${novidade.conteudo}</p>
                                <a href="${novidade.link}" class="novidade-link">Saiba mais <i class="fas fa-arrow-right"></i></a>
                            </div>
                        </div>
                    `;
                    container.innerHTML += novidadeHTML;
                });
            } else if (novidades) { 
                 container.innerHTML = '<p>Nenhuma novidade encontrada no momento.</p>';
            } 
        }

        async function carregarReflexaoDoDia() {
            const container = document.getElementById('reflexao-container');
            // Corrigido para buscar 'reflexaododia.json' diretamente, assumindo que está na raiz.
            const reflexoes = await carregarDados('reflexaododia.json'); 
            
            if (reflexoes && reflexoes.length > 0) {
                const hoje = new Date();
                const dia = String(hoje.getDate()).padStart(2, '0');
                const mes = String(hoje.getMonth() + 1).padStart(2, '0'); 
                const ano = hoje.getFullYear();
                const dataAtualFormatada = `${dia}/${mes}/${ano}`;

                const reflexaoDeHoje = reflexoes.find(r => r.data === dataAtualFormatada);

                if (reflexaoDeHoje) {
                    container.innerHTML = `
                        <p class="reflexao-frase">“${reflexaoDeHoje.frase}”</p>
                        <p class="reflexao-autor">- ${reflexaoDeHoje.autor}</p>
                        <p class="reflexao-texto">${reflexaoDeHoje.reflexao}</p>
                        <p class="reflexao-data">Reflexão para o dia: ${reflexaoDeHoje.data}</p>
                    `;
                } else {
                    container.innerHTML = '<p>Nenhuma reflexão encontrada para hoje. Volte amanhã!</p>';
                }
            } else if (reflexoes) {
                container.innerHTML = '<p>Nenhuma reflexão programada no momento.</p>';
            }
        }

        async function carregarAniversariantes() {
            const container = document.getElementById('aniversariantes-container');
            const aniversariantes = await carregarDados('aniversariantes.json');
            if (aniversariantes && aniversariantes.length > 0) {
                container.innerHTML = '';
                aniversariantes.forEach(aniversariante => {
                    const imagemHTML = aniversariante.imagem ? `<img src="${aniversariante.imagem}" alt="${aniversariante.nome}">` : '<i class="fas fa-user"></i>';
                    const aniversarianteHTML = `
                        <div class="aniversariante-card">
                            <div class="aniversariante-img">${imagemHTML}</div>
                            <div class="aniversariante-info">
                                <h3><i class="fas fa-birthday-cake aniversario-icone"></i>${aniversariante.nome}</h3>
                                ${aniversariante.cargo ? `<p>${aniversariante.cargo}</p>` : ''}
                                <p class="aniversariante-data">${aniversariante.data}</p>
                            </div>
                        </div>
                    `;
                    container.innerHTML += aniversarianteHTML;
                });
            } else if (aniversariantes) {
                container.innerHTML = '<p>Nenhum aniversariante encontrado para este mês.</p>';
            }
        }

        async function carregarFerias() {
            const tbody = document.getElementById('ferias-tbody');
            const ferias = await carregarDados('ferias.json');
            if (ferias && ferias.length > 0) {
                tbody.innerHTML = '';
                ferias.forEach(f => {
                    const tr = document.createElement('tr');
                    // Para desktop, mantém a estrutura original da tabela
                    let htmlInterno = `
                        <td class="ferias-colaborador">${f.colaborador}</td>
                        <td>${f.departamento}</td>
                        <td>${f.inicio}</td>
                        <td>${f.retorno}</td>
                    `;

                    // Para mobile, ajusta para mostrar nome e período de férias
                    // A classe .ferias-periodo-mobile será usada pelo CSS para formatar especificamente no mobile
                    if (window.innerWidth <= 768) {
                         htmlInterno = `
                            <td class="ferias-colaborador">${f.colaborador}</td>
                            <td class="ferias-periodo-mobile ferias-periodo">
                                <span class="label">Período:</span> ${f.inicio} - ${f.retorno}
                            </td>
                        `;
                    }
                    tr.innerHTML = htmlInterno;
                    tbody.appendChild(tr);
                });
                // A lógica de expandir/colapsar original para mobile foi removida/simplificada
                // Se precisar de interatividade, ela precisaria ser refeita para o novo layout flex
            } else if (ferias) {
                tbody.innerHTML = '<tr><td colspan="4"><p>Nenhuma programação de férias encontrada.</p></td></tr>';
            }
        }

        async function carregarCIPA() {
            const container = document.getElementById('cipa-container');
            const cipaMembros = await carregarDados('cipa.json');
            if (cipaMembros && cipaMembros.length > 0) {
                container.innerHTML = '';
                cipaMembros.forEach(membro => {
                    const cipaHTML = `
                        <div class="cipa-card">
                            <div class="cipa-icon"><i class="${membro.icone || 'fas fa-hard-hat'}"></i></div>
                            <h3>${membro.nome}</h3>
                            <p>${membro.cargo_cipa}</p>
                            <p>Departamento: ${membro.departamento}</p>
                            ${membro.contato ? `<p>Contato: ${membro.contato}</p>` : ''}
                        </div>
                    `;
                    container.innerHTML += cipaHTML;
                });
            } else if (cipaMembros) {
                container.innerHTML = '<p>Nenhum membro da CIPA encontrado.</p>';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            carregarNovidades();
            carregarReflexaoDoDia();
            carregarAniversariantes();
            carregarFerias();
            carregarCIPA();
        });
    </script>
</body>
</html>

